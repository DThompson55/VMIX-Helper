const fs = require('fs')
const http = require("http");
const host = 'localhost';
const port = 8088;
const requestListener = function (req, res) {
    console.log(req.url)
    res.setHeader("Content-Type", "text/xml");
    res.writeHead(200);
    res.end(vMixCfg);
}

const server = http.createServer(requestListener);
server.listen(port, host, () => {
    console.log(`Server is running on http://${host}:${port}`);
});

const vMixCfg = '<vmix><version>25.0.0.29</version><edition>4K</edition><preset>C:\\Users\\UUSE Team\\Desktop\\sunaday template 2.vmix</preset><inputs><input key="1775a29a-787b-4539-ab82-e0883a7925ee" number="1" type="Audio" title="AUDIO PULPIT" shortTitle="AUDIO PULPIT" state="Running" position="0" duration="0" loop="False" muted="False" volume="100" balance="0" solo="False" audiobusses="M" meterF1="0.005604799" meterF2="0.005604799" gainDb="12">AUDIO PULPIT</input><input key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7" number="2" type="Audio" title="AUD PIANO 1" shortTitle="AUD PIANO 1" state="Running" position="0" duration="0" loop="False" muted="True" volume="100" balance="0" solo="False" audiobusses="M" meterF1="0.0005161388" meterF2="0.0005161388" gainDb="6.999999">AUD PIANO 1</input><input key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d" number="3" type="Audio" title="AUD PIANO 2" shortTitle="AUD PIANO 2" state="Running" position="0" duration="0" loop="False" muted="True" volume="100" balance="0" solo="False" audiobusses="M" meterF1="0.0003213191" meterF2="0.0003213191" gainDb="6.999999">AUD PIANO 2</input><input key="67d88822-ba92-4eeb-8e91-223a6de295ca" number="4" type="Audio" title="Audio In 4" shortTitle="Audio In 4" state="Running" position="0" duration="0" loop="False" muted="True" volume="92.23682" balance="0" solo="False" audiobusses="M" meterF1="0.002380192" meterF2="0.002380192" gainDb="4.999998">Audio In 4</input><input key="5b4add1b-12ce-4873-a0c6-cebdcdbff579" number="5" type="Audio" title="Audio In 5" shortTitle="Audio In 5" state="Running" position="0" duration="0" loop="False" muted="True" volume="100" balance="0" solo="False" audiobusses="M" meterF1="0.0001503229" meterF2="0.0001503229" gainDb="0">Audio In 5</input><input key="478d19cb-0928-4142-86d6-4f67c12179e5" number="6" type="Audio" title="AUD 6 GUITAR" shortTitle="AUD 6 GUITAR" state="Running" position="0" duration="0" loop="False" muted="True" volume="100" balance="0" solo="False" audiobusses="M" meterF1="4.229705E-07" meterF2="4.229705E-07" gainDb="11">AUD 6 GUITAR</input><input key="4bdc24e7-ce52-4f18-9ed3-85b5a4a2363d" number="7" type="Audio" title="Audio 7 Vocal" shortTitle="Audio 7 Vocal" state="Running" position="0" duration="0" loop="False" muted="True" volume="62.74224" balance="0" solo="False" audiobusses="M" meterF1="4.484942E-05" meterF2="4.484942E-05" gainDb="11">Audio 7 Vocal</input><input key="cd0cd01d-db1b-4516-adde-ffc558b1c70b" number="8" type="Audio" title="Audio In 8" shortTitle="Audio In 8" state="Running" position="0" duration="0" loop="False" muted="False" volume="100" balance="0" solo="False" audiobusses="M" meterF1="0.0003420115" meterF2="0.0003420115" gainDb="0">Audio In 8</input><input key="4b04a8b4-cf55-43ff-8027-4085fabe6ac4" number="9" type="Audio" title="Audio in 9" shortTitle="Audio in 9" state="Running" position="0" duration="0" loop="False" muted="True" volume="40.96" balance="0" solo="False" audiobusses="M" meterF1="8.680668E-05" meterF2="8.680668E-05" gainDb="13">Audio in 9</input><input key="c351ec2e-40b6-46ec-b2ed-d76c311134a9" number="10" type="Audio" title="Audio In 10" shortTitle="Audio In 10" state="Running" position="0" duration="0" loop="False" muted="True" volume="100" balance="0" solo="False" audiobusses="M" meterF1="0.0001003736" meterF2="0.0001003736" gainDb="14">Audio In 10</input><input key="7dbaed68-e093-4dd1-a069-d8bf5645346f" number="11" type="Audio" title="Audio In 11" shortTitle="Audio In 11" state="Running" position="0" duration="0" loop="False" muted="True" volume="100" balance="0" solo="False" audiobusses="M" meterF1="1.770892E-05" meterF2="1.770892E-05" gainDb="1.999997">Audio In 11</input><input key="c4ada8ac-88f4-4bef-8f93-59930a5bcbf0" number="12" type="Audio" title="Audio In 14" shortTitle="Audio In 14" state="Running" position="0" duration="0" loop="False" muted="True" volume="100" balance="0" solo="False" audiobusses="M" meterF1="0.0001723766" meterF2="0.0001723766" gainDb="0">Audio In 14</input><input key="c9adb27a-1762-46ab-aa57-c59b5bca0d0b" number="13" type="Audio" title="Audio CABLE-A Output" shortTitle="Audio CABLE-A Output" state="Running" position="0" duration="0" loop="False" muted="True" volume="100" balance="0" solo="False" audiobusses="M" meterF1="0" meterF2="0" gainDb="0">Audio CABLE-A Output</input><input key="531282b2-705f-4f01-93de-97928ef125d6" number="14" type="Capture" title="camera 1" shortTitle="camera 1" state="Running" position="0" duration="0" loop="False">camera 1<position panX="-0.003616571" panY="-0.006430864"/></input><input key="0d0a63d6-e1e9-4033-89f1-3cb39e755567" number="15" type="Virtual" title="PTZ - 1 WIDE" shortTitle="1 WIDE" state="Paused" position="0" duration="0" loop="False">PTZ - 1 WIDE<overlay index="0" key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7"/><overlay index="1" key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d"/><overlay index="2" key="7dbaed68-e093-4dd1-a069-d8bf5645346f"/></input><input key="bb05df38-289d-45ae-a49f-8b137e2edcbe" number="16" type="Virtual" title="PTZ - 1 MED PULPIT" shortTitle="1 MED PULPIT" state="Paused" position="0" duration="0" loop="False">PTZ - 1 MED PULPIT<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="d0dc7ed5-acbc-4bec-ab16-ee29f58a4a29" number="17" type="Virtual" title="PTZ - 1 CLOSE PULPIT" shortTitle="1 CLOSE PULPIT" state="Paused" position="0" duration="0" loop="False">PTZ - 1 CLOSE PULPIT<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="a1fee20c-1232-4f27-876a-0b560747875d" number="18" type="Virtual" title="PTZ - 1 PIANO" shortTitle="1 PIANO" state="Paused" position="0" duration="0" loop="False">PTZ - 1 PIANO<overlay index="0" key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7"/><overlay index="1" key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d"/></input><input key="cbb46106-4a75-4e84-a596-e6711e6f8531" number="19" type="Virtual" title="PTZ - 1 CANDLES" shortTitle="1 CANDLES" state="Paused" position="0" duration="0" loop="False">PTZ - 1 CANDLES<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="8d7d7181-44af-4370-b101-81564569938a" number="20" type="Virtual" title="PTZ - 1 CHALICE/PULPIT" shortTitle="1 CHALICE/PULPIT" state="Paused" position="0" duration="0" loop="False">PTZ - 1 CHALICE/PULPIT<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="7a6f3c25-8f6a-4bb5-a795-7eb62f1ffcac" number="21" type="Virtual" title="PTZ - 1 SHORT MED" shortTitle="1 SHORT MED" state="Paused" position="0" duration="0" loop="False">PTZ - 1 SHORT MED<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/><position panX="-0.003616571" panY="-0.006430864"/></input><input key="d4b4fd78-bfb3-4e33-bd56-a385dabbe142" number="22" type="Virtual" title="PTZ - 1 SHORT CLOSE" shortTitle="1 SHORT CLOSE" state="Paused" position="0" duration="0" loop="False">PTZ - 1 SHORT CLOSE<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="881c6826-aef3-4634-ab5d-146d1e676711" number="23" type="Virtual" title="PTZ - RIGHT FLOOR" shortTitle="RIGHT FLOOR" state="Paused" position="0" duration="0" loop="False">PTZ - RIGHT FLOOR<overlay index="0" key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7"/><overlay index="1" key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d"/><overlay index="2" key="1775a29a-787b-4539-ab82-e0883a7925ee"/><overlay index="3" key="c351ec2e-40b6-46ec-b2ed-d76c311134a9"/></input><input key="3a138504-a02d-4876-8e14-135928cb000e" number="24" type="Virtual" title="PTZ - 1 RIGHT" shortTitle="1 RIGHT" state="Paused" position="0" duration="0" loop="False">PTZ - 1 RIGHT<overlay index="0" key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7"/><overlay index="1" key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d"/><overlay index="2" key="4b04a8b4-cf55-43ff-8027-4085fabe6ac4"/></input><input key="b522ff2c-a304-4fa3-97a4-4bbaaf5d7d2f" number="25" type="Virtual" title="PTZ - 1 WINDOW L" shortTitle="1 WINDOW L" state="Paused" position="0" duration="0" loop="False">PTZ - 1 WINDOW L<overlay index="0" key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7"/><overlay index="1" key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d"/></input><input key="680f8034-bd4e-4470-b77f-253e303ad2bf" number="26" type="Virtual" title="PTZ - 1 WINDOW R" shortTitle="1 WINDOW R" state="Paused" position="0" duration="0" loop="False">PTZ - 1 WINDOW R<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/><position panX="-0.1410489" panY="-0.006430864" zoomX="0.99675" zoomY="0.99675"/></input><input key="2635cd06-1bc4-45af-b35c-ada99583f7a1" number="27" type="Virtual" title="PTZ - 1 PULPIT OVERLAY" shortTitle="1 PULPIT OVERLAY" state="Paused" position="0" duration="0" loop="False">PTZ - 1 PULPIT OVERLAY<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/><position panX="-0.003616571" panY="-0.006430864"/></input><input key="8e75b995-1620-44bb-8867-bb6e43f1ec73" number="28" type="Virtual" title="PTZ - 1 PIANO-MUSICIAN" shortTitle="1 PIANO-MUSICIAN" state="Paused" position="0" duration="0" loop="False">PTZ - 1 PIANO-MUSICIAN<position panX="-0.003616571" panY="-0.006430864"/></input><input key="f179a065-90dc-47ab-bba0-f4ac898e5fd7" number="29" type="Virtual" title="PTZ - 1 FULL WIDE" shortTitle="1 FULL WIDE" state="Paused" position="0" duration="0" loop="False">PTZ - 1 FULL WIDE<position panX="-0.003616571" panY="-0.006430864"/></input><input key="4399f560-68c3-4193-9212-864d87cd85cd" number="30" type="Capture" title="camera 2" shortTitle="camera 2" state="Running" position="0" duration="0" loop="False">camera 2</input><input key="08bf1a89-d440-4acc-80e0-c804544efc8e" number="31" type="Virtual" title="PTZ - 2 WIDE" shortTitle="2 WIDE" state="Paused" position="0" duration="0" loop="False">PTZ - 2 WIDE<overlay index="0" key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7"/><overlay index="1" key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d"/></input><input key="6a63b2fa-0e41-40ac-a315-7edab4f4f6cf" number="32" type="Virtual" title="PTZ - 2 MED PULPIT" shortTitle="2 MED PULPIT" state="Paused" position="0" duration="0" loop="False">PTZ - 2 MED PULPIT<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/><overlay index="2" key="4b04a8b4-cf55-43ff-8027-4085fabe6ac4"/></input><input key="3150c428-6cea-49e7-8c48-357a225eb1ec" number="33" type="Virtual" title="PTZ - 2 CLOSE PULPIT" shortTitle="2 CLOSE PULPIT" state="Paused" position="0" duration="0" loop="False">PTZ - 2 CLOSE PULPIT<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="d0471e58-62b2-463e-8725-7507eb099a21" number="34" type="Virtual" title="PTZ - 2 SHORT MED" shortTitle="2 SHORT MED" state="Paused" position="0" duration="0" loop="False">PTZ - 2 SHORT MED<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="be5a7392-0f51-4ab2-8605-18e3b94b0cd4" number="35" type="Virtual" title="PTZ - 2 SHORT CLOSE" shortTitle="2 SHORT CLOSE" state="Paused" position="0" duration="0" loop="False">PTZ - 2 SHORT CLOSE<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="c850c622-1c2a-4db7-9a8a-fb2632a5517c" number="36" type="Virtual" title="PTZ - 2 PIANO" shortTitle="2 PIANO" state="Paused" position="0" duration="0" loop="False">PTZ - 2 PIANO<overlay index="0" key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7"/><overlay index="1" key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d"/></input><input key="aee2cbf4-d416-4b30-804e-ce440e38d4c1" number="37" type="Virtual" title="PTZ - 2 CHALICE" shortTitle="2 CHALICE" state="Paused" position="0" duration="0" loop="False">PTZ - 2 CHALICE<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="7eef5457-9677-4062-b0a6-80279442d7c6" number="38" type="Virtual" title="PTZ - 2-Candle Close" shortTitle="2-Candle Close" state="Paused" position="0" duration="0" loop="False">PTZ - 2-Candle Close</input><input key="89f29ab0-fff3-4a75-aa2a-ff9aa3c20a57" number="39" type="Virtual" title="PTZ - 2 CHALICE/PULPIT" shortTitle="2 CHALICE/PULPIT" state="Paused" position="0" duration="0" loop="False">PTZ - 2 CHALICE/PULPIT<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="dea61f9e-9189-4e3b-a33e-196c60a7ed62" number="40" type="Virtual" title="PTZ - 2 JC WITH PULPIT" shortTitle="2 JC WITH PULPIT" state="Paused" position="0" duration="0" loop="False">PTZ - 2 JC WITH PULPIT<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/><overlay index="1" key="c351ec2e-40b6-46ec-b2ed-d76c311134a9"/></input><input key="56eb9065-db51-4627-9ba6-ceab89446092" number="41" type="Virtual" title="PTZ - 2 CANDLES" shortTitle="2 CANDLES" state="Paused" position="0" duration="0" loop="False">PTZ - 2 CANDLES<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="27670c7e-381d-47fd-aeb8-d674d6097e17" number="42" type="Virtual" title="PTZ - 2 FLOOR CANDLE" shortTitle="2 FLOOR CANDLE" state="Paused" position="0" duration="0" loop="False">PTZ - 2 FLOOR CANDLE<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/><overlay index="1" key="c351ec2e-40b6-46ec-b2ed-d76c311134a9"/></input><input key="b2644928-a5b6-407a-8c95-3198489e301f" number="43" type="Virtual" title="PTZ - 2 RIGHT " shortTitle="2 RIGHT " state="Paused" position="0" duration="0" loop="False">PTZ - 2 RIGHT<overlay index="0" key="478d19cb-0928-4142-86d6-4f67c12179e5"/><overlay index="1" key="4bdc24e7-ce52-4f18-9ed3-85b5a4a2363d"/></input><input key="502f08a4-98b2-4e75-ab90-09dd6ed78606" number="44" type="Virtual" title="PTZ - 2 MED WIDE" shortTitle="2 MED WIDE" state="Paused" position="0" duration="0" loop="False">PTZ - 2 MED WIDE<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="f610f20d-7659-4f37-a92c-f6a1deeab02a" number="45" type="Virtual" title="PTZ - 2 J  C WIDE" shortTitle="2 J  C WIDE" state="Paused" position="0" duration="0" loop="False">PTZ - 2 J  C WIDE<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input><input key="354317eb-8ba2-4237-b703-27a55a7d0e99" number="46" type="Virtual" title="PTZ - 2 PIANO-MUSICIAN" shortTitle="2 PIANO-MUSICIAN" state="Paused" position="0" duration="0" loop="False">PTZ - 2 PIANO-MUSICIAN<overlay index="0" key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d"/><overlay index="1" key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7"/><overlay index="2" key="67d88822-ba92-4eeb-8e91-223a6de295ca"/></input><input key="3e9bb124-3800-44dc-b0c4-f0674d465d03" number="47" type="Virtual" title="PTZ - 2 FULL WIDE" shortTitle="2 FULL WIDE" state="Paused" position="0" duration="0" loop="False">PTZ - 2 FULL WIDE</input><input key="e15ce769-f220-42f4-ac7a-42eb40bf6570" number="48" type="Photos" title="Welcome Slides - Spring - Slide1.PNG" shortTitle="Welcome Slides - Spring" state="Paused" position="0" duration="1" loop="False" selectedIndex="1">Welcome Slides - Spring - Slide1.PNG<overlay index="0" key="fabdc81a-f0b6-440e-a349-29c0bf93a3d7"/><overlay index="1" key="9b7ea3fb-9a41-453d-b289-c59b2a8dc43d"/></input><input key="35aeb119-c7c6-4b35-8c20-0c72c16ff281" number="49" type="Colour" title="1-2 Prelude Split " shortTitle="1-2 Prelude Split " state="Paused" position="0" duration="0" loop="False">1-2 Prelude Split<overlay index="0" key="d4b4fd78-bfb3-4e33-bd56-a385dabbe142"><position panX="-0.5" zoomX="0.5" zoomY="0.5"/></overlay><overlay index="1" key="b2644928-a5b6-407a-8c95-3198489e301f"><position panX="0.5" panY="-0.005797148" zoomX="0.5" zoomY="0.5"/></overlay></input><input key="1b5c373c-ca1c-41f6-9113-facdbc3b1b38" number="50" type="VirtualSet" title="1 CHALICE VIRTUAL" shortTitle="1 CHALICE VIRTUAL" state="Paused" position="0" duration="0" loop="False" selectedIndex="3">1 CHALICE VIRTUAL<overlay index="0" key="edf8d515-2559-4f8b-b6a1-e7d276cf193c"><position panY="-0.01538467"/></overlay><overlay index="1" key="8d7d7181-44af-4370-b101-81564569938a"/><overlay index="2" key="d84f0fc8-6e3d-4035-9d0a-0639308c7c75"/><overlay index="3" key="7a02c6bb-24f4-4903-97eb-f0910f18456c"/><overlay index="4" key="3982f887-f61d-4ffb-9e79-b68097d95a54"/></input><input key="6b05afab-a3ca-4876-bb3b-7e7a13c266f8" number="51" type="GT" title="DONATE OVERLAY 2" shortTitle="DONATE OVERLAY 2" state="Paused" position="0" duration="0" loop="False" selectedIndex="0">DONATE OVERLAY 2<text index="0" name="Headline.Text">donate at uuse.org</text><text index="1" name="Description.Text"/></input><input key="4652e5cb-2500-4814-8471-43acecd19e4f" number="52" type="PowerPoint" title="Blank Spring.pptx - Slide1" shortTitle="Blank Spring.pptx" state="Paused" position="0" duration="2" loop="False" selectedIndex="1">Blank Spring.pptx - Slide1</input><input key="3bc7b8a4-00af-48f1-804e-685013b0a226" number="53" type="Image" title="Closing Circle - spring.png" shortTitle="Closing Circle - spring.png" state="Paused" position="0" duration="0" loop="False">Closing Circle - spring.png<overlay index="0" key="1775a29a-787b-4539-ab82-e0883a7925ee"/></input></inputs><overlays><overlay number="1"/><overlay number="2"/><overlay number="3"/><overlay number="4"/><overlay number="5"/><overlay number="6"/><overlay number="7"/><overlay number="8"/></overlays><preview>40</preview><active>1</active><fadeToBlack>False</fadeToBlack><transitions><transition number="1" effect="Fade" duration="2000"/><transition number="2" effect="Fade" duration="1000"/><transition number="3" effect="Merge" duration="2500"/><transition number="4" effect="Fade" duration="500"/></transitions><recording>False</recording><external>False</external><streaming>False</streaming><playList>False</playList><multiCorder>False</multiCorder><fullscreen>False</fullscreen><audio><master volume="100" muted="False" meterF1="0.006745599" meterF2="0.006745599" headphonesVolume="100"/><busA volume="100" muted="False" meterF1="0" meterF2="0"/></audio><dynamic><input1/><input2/><input3/><input4/><value1/><value2/><value3/><value4/></dynamic></vmix>';

// some day I'll have this read from a file

// fs.readFile( devVMIXDataPath, function(err, result) {
// if (err) {
//     throw new Error( "Dev Mode: vMix test schema failed "+devVMIXDataPath);
// }
// var s = (result.toString().replace(/&/g,"&amp;")) // the VMix response has some &s in it.
// parser.parseString(s, (err, result) => {
//     connectionStatus = "Dev Mode: Not Connected";
//     vMixCfg = {vMixCfg:result, vMixStatus:connectionStatus}
// })
